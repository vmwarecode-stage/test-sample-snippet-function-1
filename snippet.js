test sample snippet function esir